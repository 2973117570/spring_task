package com.xinyi.xframe.map.util;

import java.text.DecimalFormat;



/**
 * 地图坐标转换 google,baidu,gps
 * @author lw
 * @Time 2015年4月16日18:19:16
 * 
 * */ 
public class CoordinateConversion{
    private static final double x_pi = 3.14159265358979324 * 3000.0 / 180.0;
     
    private static final double pi = 3.14159265358979324;
    private static final double a = 6378245.0;
    private static final double ee = 0.00669342162296594323;
     
    /**
     * gg_lat 纬度
     * gg_lon 经度
     * GCJ-02转换BD-09
     * Google地图经纬度转百度地图经纬度
     * */
    public static Point google_bd_encrypt(double gg_lat, double gg_lon){
        Point point=new Point();
        double x = gg_lon, y = gg_lat;
        double z = Math.sqrt(x * x + y * y) + 0.00002 * Math.sin(y * x_pi);
        double theta = Math.atan2(y, x) + 0.000003 * Math.cos(x * x_pi); 
        double bd_lon = z * Math.cos(theta) + 0.0065;
        double bd_lat = z * Math.sin(theta) + 0.006;
        point.setLat(bd_lat);
        point.setLng(bd_lon);
        return point;
    }
     
    /**
     * wgLat 纬度
     * wgLon 经度
     * BD-09转换GCJ-02
     * 百度转google
     * */
    public static Point bd_google_encrypt(double bd_lat, double bd_lon){
        Point point=new Point();
        double x = bd_lon - 0.0065, y = bd_lat - 0.006;  
        double z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_pi);  
        double theta =Math.atan2(y, x) - 0.000003 * Math.cos(x * x_pi);  
        double gg_lon = z * Math.cos(theta);  
        double gg_lat = z * Math.sin(theta);  
        point.setLat(gg_lat);
        point.setLng(gg_lon);
        return point;
    }
     
     
     
    /**
     * wgLat 纬度
     * wgLon 经度
     * WGS-84 到 GCJ-02 的转换（即 GPS 加偏）
     * */
    public static Point wgs_gcj_encrypts(double wgLat, double wgLon) {
        Point point=new Point();
        if (outOfChina(wgLat, wgLon)) {
            point.setLat(wgLat);
            point.setLng(wgLon);
            return point;
        }
        double dLat = transformLat(wgLon - 105.0, wgLat - 35.0);
        double dLon = transformLon(wgLon - 105.0, wgLat - 35.0);
        double radLat = wgLat / 180.0 * pi;
        double magic = Math.sin(radLat);
        magic = 1 - ee * magic * magic;
        double sqrtMagic = Math.sqrt(magic);
        dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi);
        dLon = (dLon * 180.0) / (a / sqrtMagic * Math.cos(radLat) * pi);
        double lat = wgLat + dLat;
        double lon = wgLon + dLon;
        point.setLat(lat);
        point.setLng(lon);
        return point;
    }
     
     
    public static void transform(double wgLat, double wgLon, double[] latlng) {
        if (outOfChina(wgLat, wgLon)) {
            latlng[0] = wgLat;
            latlng[1] = wgLon;
            return;
        }
        double dLat = transformLat(wgLon - 105.0, wgLat - 35.0);
        double dLon = transformLon(wgLon - 105.0, wgLat - 35.0);
        double radLat = wgLat / 180.0 * pi;
        double magic = Math.sin(radLat);
        magic = 1 - ee * magic * magic;
        double sqrtMagic = Math.sqrt(magic);
        dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * pi);
        dLon = (dLon * 180.0) / (a / sqrtMagic * Math.cos(radLat) * pi);
        latlng[0] = wgLat + dLat;
        latlng[1] = wgLon + dLon;
    }
 
    private static boolean outOfChina(double lat, double lon) {
        if (lon < 72.004 || lon > 137.8347)
            return true;
        if (lat < 0.8293 || lat > 55.8271)
            return true;
        return false;
    }
 
    private static double transformLat(double x, double y) {
        double ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x));
        ret += (20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0 / 3.0;
        ret += (20.0 * Math.sin(y * pi) + 40.0 * Math.sin(y / 3.0 * pi)) * 2.0 / 3.0;
        ret += (160.0 * Math.sin(y / 12.0 * pi) + 320 * Math.sin(y * pi / 30.0)) * 2.0 / 3.0;
        return ret;
    }
 
    private static double transformLon(double x, double y) {
        double ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x));
        ret += (20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0 / 3.0;
        ret += (20.0 * Math.sin(x * pi) + 40.0 * Math.sin(x / 3.0 * pi)) * 2.0 / 3.0;
        ret += (150.0 * Math.sin(x / 12.0 * pi) + 300.0 * Math.sin(x / 30.0 * pi)) * 2.0 / 3.0;
        return ret;
    }
    public static void main(String[] args) throws InterruptedException {
    	DecimalFormat df=new DecimalFormat("#.000000");
    	 //替换下面的经纬度字符串
         String lonlatStr="114.22174708500012,22.81628274500011;114.22214687100012,22.816260647000036;114.22257712900006,22.816296122000097;114.22271694000011,22.816282053000123;114.22292058900007,22.81626155800012;114.22317994100007,22.816147872000045;114.22369239800008,22.81578573300007;114.2240575730001,22.81550480700008;114.22418801100008,22.815403341000092;114.22430575300007,22.815325360000116;114.22422054800006,22.81479822300014;114.22414806200004,22.814349484000104;114.22409182400014,22.813938004000107;114.22408406700004,22.81379197700008;114.22398204300015,22.813677527000067;114.22404754300015,22.813354457000088;114.224178198,22.812728554000046;114.22429274600012,22.812411250000082;114.2244239310001,22.81207899800009;114.22442758500006,22.81186135200005;114.2244401210001,22.811765340000107;114.22453387100006,22.811711003000084;114.22472734200011,22.81157203500001;114.22507530300004,22.81133910300011;114.22526851900005,22.811215321000077;114.22537386800002,22.811120645000074;114.22549200700007,22.81091477600009;114.22567540500006,22.810725034000114;114.22581973600006,22.810585357000093;114.22605747800009,22.81041158700009;114.22641720100006,22.81012819500006;114.22678000600001,22.80998660500009;114.226917007,22.809958202000075;114.22697774400007,22.809918576000058;114.22701774400002,22.8098128340001;114.227049373,22.809555087000035;114.22704730400005,22.80935254600007;114.22706682500007,22.809165503000116;114.22710699400005,22.80904963800012;114.22717480500006,22.808913922000073;114.22725454700003,22.80871762100014;114.22732462100015,22.808555415000058;114.22749307700008,22.808124371000133;114.227644661,22.807737924000065;114.22763986000007,22.807543544000026;114.22757233700008,22.80724362300009;114.2274002480001,22.80644893800013;114.22737799100008,22.806093616000055;114.22740868100004,22.80570543200008;114.22744329500006,22.8056459900001;114.22781143100013,22.805188738000084;114.228133308,22.804794062000042;114.22819701100008,22.804678892000112;114.22824018300003,22.80460084300003;114.22817542900009,22.804362839000106;114.22810398000001,22.804024300000066;114.22815697600004,22.803807810000137;114.22835124400001,22.803396104000058;114.228741603,22.802668603000114;114.22893894500015,22.802163295000128;114.22907700700006,22.801707743000065;114.229209997,22.80127726100011;114.22932974300011,22.800992805000078;114.22939928700009,22.80087463800004;114.229351146,22.80072582400004;114.22920530800002,22.800119513000084;114.22906658900007,22.79955208800004;114.2289442870001,22.799103539000043;114.2289473940001,22.79862860600005;114.228987878,22.798074057000065;114.22900799000001,22.797628959000093;114.22904200800008,22.797309555000112;114.2291441810001,22.7970843250001;114.22915832600006,22.797068129000138;114.22910997600007,22.79668216200008;114.22920032100001,22.796388336000064;114.22933194600006,22.796163357000097;114.22958367600006,22.795975902000094;114.22999269800005,22.795769170000085;114.23053862100005,22.795657185000096;114.23104695500007,22.795661338000116;114.23150631700003,22.795642262000058;114.23182797100009,22.79565173900005;114.23208570700007,22.79566983100011;114.232276436,22.795796979000073;114.23273492100014,22.796287095000082;114.23308687500003,22.796545716000054;114.23352894800007,22.796919244000037;114.23372760300003,22.796959685000104;114.2339592620001,22.79683598200009;114.23420627600007,22.79661651300009;114.2343401500001,22.796423513000036;114.23446048900007,22.796045439000068;114.23457393600012,22.79559653400011;114.234701019,22.795314419000107;114.23480739000001,22.795196547000018;114.23500713100015,22.795070310000142;114.23519202200009,22.794962205000076;114.2353803100001,22.794710282000068;114.23558850200004,22.79441741800008;114.23592114800016,22.79424658500008;114.23638180400013,22.79427403900013;114.23663003700005,22.794308697000105;114.23680308900015,22.794289038000073;114.23722183500001,22.79413233300005;114.23739444900008,22.7940659490001;114.23774181300013,22.794056845000057;114.23802803700005,22.79423373800006;114.2384453200001,22.794546056000087;114.23874355600003,22.79468058000009;114.23887252500003,22.794683777000046;114.239133971,22.79457050500011;114.23947138500006,22.794430625000132;114.23962001100011,22.794302289000143;114.23974486400004,22.794011557000147;114.23984464800009,22.7938488340001;114.24001767100009,22.793727832000087;114.24030544700008,22.793640902000078;114.24054258900003,22.793654968000055;114.24059887100015,22.793626249000084;114.24069386100007,22.793507045000126;114.24077186200014,22.793366295000084;114.24082987500003,22.79309416400011;114.2408331900001,22.792875064000043;114.24076231800007,22.792663294000107;114.24073512000007,22.792507826000104;114.2408070080001,22.792373587000014;114.24094985100015,22.792190074000104;114.24110500400002,22.792029102000072;114.24124388300004,22.791876405000068;114.24132125900013,22.79174760700002;114.241341046,22.79162682000012;114.24129600100002,22.791304076000102;114.24131217000001,22.791157219000098;114.24135469400005,22.791001081000047;114.24144704000003,22.7908510340001;114.24168288200013,22.790434510000097;114.24181114400005,22.79023212000007;114.24188294300006,22.79009358200011;114.24189038500003,22.78996573900008;114.2418793980001,22.78982778800011;114.24185542000009,22.789688561000077;114.24183612900003,22.78955404800007;114.24183486900006,22.78932822100009;114.24184050000008,22.789164468000138;114.24191392300008,22.78904884700009;114.24206533300003,22.788848464000125;114.24230613000015,22.78865939700006;114.242450158,22.788500855000052;114.24256758800004,22.788436772000125;114.24283123700002,22.78840117700014;114.24300162600008,22.788381472000083;114.24313645900008,22.788335231000104;114.24332487000004,22.78819029600001;114.24351072700006,22.787943329000143;114.243665942,22.787813792000037;114.24379040500003,22.787713176000125;114.24394207300008,22.78769602500006;114.2441414760001,22.787689038000025;114.24426948100006,22.787661341000074;114.24449986500014,22.78754899200004;114.24463187900011,22.78744015500007;114.24474949400008,22.7873052220001;114.24480442100008,22.78719774700008;114.24485101700009,22.786952357000075;114.24490097000006,22.786522891000118;114.24495348800008,22.786400615000076;114.24510830300011,22.786358539000105;114.24551426700009,22.78625490400009;114.24562122300011,22.786214604000094;114.24568068900015,22.786153940000133;114.24568129500011,22.786041374000092;114.24563647000008,22.78593678000007;114.24553765300004,22.785807417000058;114.24550233700006,22.785729418000074;114.24550577400015,22.785522779000104;114.24554542000016,22.785375714000082;114.24563369900017,22.78518013200005;114.24571908900009,22.78501457900009;114.24575736100007,22.78483459000006;114.24577523000005,22.784688960000096;114.24583627100009,22.784519222000114;114.245892626,22.784426040000085;114.2461873850001,22.78438939500009;114.24651166600006,22.78434636200012;114.24674805900014,22.784281644000117;114.24709632000008,22.784123185000027;114.24732681500006,22.784010570000078;114.24751266000015,22.784011573000072;114.24797711900015,22.78405885300006;114.24828044600014,22.784112866000072;114.24838712400009,22.784141943000066;114.24771754400001,22.78191187100012;114.24449844100002,22.772108666000122;114.24323235400004,22.76915757900008;114.2427503020001,22.768018146000117;114.24226052100005,22.767343226000065;114.24158774800003,22.766375292000077;114.24119141400001,22.765730749000056;114.24058122800005,22.764157999000076;114.24058443200016,22.763965779000074;114.24072072300015,22.763900857000067;114.24075047000014,22.762656497000137;114.24075073400007,22.762656572000054;114.2408368400001,22.762572916000096;114.2417089270001,22.761832627000075;114.24172499000008,22.761818988000073;114.2416319830001,22.761743062000107;114.24157739900011,22.761694767000108;114.24148580000013,22.761624107000102;114.24137371700016,22.761536463000112;114.24118232400014,22.761388608000118;114.24101689200012,22.761261672000074;114.24088440700007,22.76115190300004;114.24078880500008,22.761072197000146;114.24067548800008,22.760975545000065;114.24033501100013,22.760685372000125;114.24046229100009,22.760522940000016;114.24055876200009,22.760396099000076;114.24071810700002,22.7601865930001;114.24085669400006,22.76000326200011;114.24107500500014,22.75972761200009;114.2413443910001,22.759385303000073;114.24134837800005,22.759380234000048;114.24160202400009,22.759069638000085;114.24184348000006,22.758760478000085;114.24195715200005,22.758612241000037;114.2419944290001,22.75856419200008;114.242193316,22.75830783800012;114.242409888,22.75803216200009;114.24246240200006,22.757961761000104;114.24219686900005,22.757801123000093;114.24209271200004,22.757739355000098;114.24196911600006,22.75766382300006;114.24188952700007,22.757615889000107;114.2418005080001,22.7575694060001;114.2417259180001,22.75752947400008;114.24170729300016,22.75751810300008;114.24170232500006,22.757516550000048;114.24169700300001,22.757515857000072;114.24168811100009,22.757515335000107;114.241683341,22.757515771000044;114.24168064300011,22.75751635600011;114.24167681900013,22.7575173810001;114.24167306900006,22.757519200000104;114.24166526700003,22.757525432000136;114.24165745300002,22.75753245900006;114.24164706200014,22.757540241000072;114.2416349610001,22.75754799900008;114.24162375300006,22.757553391000044;114.24161603200002,22.757554866000078;114.24160662800006,22.757554731000084;114.24159899900008,22.757550655000074;114.24130552700001,22.757384268000123;114.24130386500013,22.757386686000075;114.24130010400012,22.757392155000048;114.24128811000008,22.757407534000038;114.24127621100007,22.757417213000053;114.24126888600011,22.757420737000103;114.24125823300011,22.75742265700009;114.24124535400006,22.75742402800006;114.24123697300001,22.757423908000135;114.24122776900003,22.757423776000024;114.24122694600015,22.757424178000065;114.24122691400015,22.757423764000123;114.24121356300009,22.75741994400005;114.24119412600015,22.75741240800005;114.24116586100001,22.75739800500014;114.2410949020001,22.757362775000104;114.24107775300001,22.757352162000103;114.2409760110001,22.75728590500006;114.24085540700003,22.75721108400009;114.2407807460001,22.757163361000067;114.240699973,22.757113474000107;114.24063027200009,22.757067790000065;114.2406247780001,22.75706418700011;114.24061214900013,22.757059696000056;114.24059115800003,22.757058505000117;114.24019889700003,22.756812977000095;114.24010200400011,22.756677837000012;114.23979812900006,22.756523011000098;114.23985219400004,22.756421188000047;114.23984300900008,22.75641412100012;114.239911162,22.756305419000057;114.23996161300016,22.756220539000083;114.24001516800001,22.756122329000107;114.2400659760001,22.756016054000014;114.24017389000005,22.755771492000093;114.24021280500006,22.755686446000084;114.24025226200007,22.75567303800011;114.24027552000007,22.755660582000104;114.24028858500003,22.755650799000108;114.24030278000009,22.75563699500009;114.24031479700005,22.755620827000087;114.2404516250001,22.75533955500009;114.24056717800016,22.755101550000063;114.24061133500004,22.75500686500007;114.2405161860001,22.75502222700004;114.24046383800015,22.754977711000038;114.24022123400005,22.754932436000047;114.2399689230001,22.75492881800008;114.23975293300009,22.75490900000011;114.23964535800013,22.754874020000102;114.23952932800006,22.7548054800001;114.2395084260001,22.75443736700001;114.2395029000001,22.754228304000065;114.2390263370001,22.753619591000074;114.23906321800007,22.753569963000103;114.23912727000004,22.75351236700007;114.23917371900012,22.75342943800007;114.239175391,22.753329151000088;114.2390877900001,22.753177425000075;114.23894779700004,22.752924634000124;114.23865879800013,22.75241892300008;114.23810106100012,22.751274042000063;114.23783366300012,22.751094656000106;114.23713248800004,22.750984276000082;114.23606158900009,22.750566010000085;114.23575845700009,22.750078744000064;114.23573236000004,22.749947144000117;114.23577420300006,22.746950449000053;114.23583543300009,22.745169710000113;114.23577696900014,22.74395678500008;114.23576342300015,22.743825159000068;114.2366054370001,22.74187084500008;114.235173401,22.742640081000076;114.23255801300007,22.74309089700006;114.23218598900013,22.743155018000095;114.22980390400005,22.743439521000113;114.22802716400008,22.74349361500012;114.22740347700011,22.743583809000086;114.22618958800007,22.743759346000047;114.22526522600009,22.744224208000077;114.22406341700002,22.744153723000068;114.22357883900014,22.744013890000076;114.222761343,22.743231642000126;114.22173805200009,22.742765215000134;114.22079710000003,22.74251250900008;114.21990851100009,22.74255278800007;114.21514340300007,22.74317451200011;114.21459888100003,22.74319318300013;114.21382527500015,22.743208530000118;114.213309837,22.743201052000046;114.21207851000014,22.74318318200011;114.2109903600001,22.74316738100015;114.2101321930001,22.743101780000075;114.20978856900001,22.74309678700007;114.20953084800016,22.743093042000083;114.2089045140001,22.74306732800011;114.20889849600007,22.743162931000114;114.208787368,22.7435474560001;114.20866390100002,22.74392974200009;114.20853055600003,22.74425947600011;114.20836758000013,22.74455504800011;114.20815030400007,22.74481652700007;114.20787128400008,22.745119408000022;114.2077478280001,22.745273071000042;114.2076762100001,22.74549283300007;114.20766385500008,22.745696353000113;114.20760706400011,22.74579717000009;114.20743915000003,22.746053891000145;114.20714779500008,22.746356820000102;114.2069255780001,22.746485715000063;114.20670089000009,22.746552900000097;114.2064391780001,22.746638515000143;114.2060861120001,22.746651330000077;114.20587131300016,22.746688745000142;114.20548120300009,22.746742855000065;114.20511579500015,22.746803728000145;114.204730627,22.74691268200013;114.20439976500006,22.747032861000065;114.2040787890001,22.74717585400009;114.20385656400003,22.747357337000068;114.20380964100008,22.747437543000075;114.20379234200004,22.74756106700005;114.20378244800014,22.747801154000086;114.2037453850001,22.74802306400008;114.20369599700007,22.748107849000064;114.20359228800015,22.74822942500012;114.20347870400008,22.748362470000103;114.20341202200012,22.74854105500009;114.20342929500009,22.748643871000127;114.2035058190001,22.74874874300008;114.20365147500002,22.748880771000046;114.203750227,22.74897183900009;114.2038786010001,22.74910165700004;114.20414770300016,22.749342939000087;114.20431064000002,22.749541214000118;114.20432791500002,22.74963716400012;114.20434270800007,22.74980171800007;114.20434763700007,22.74992972400011;114.2043318420001,22.750044270000075;114.20431508000007,22.75014434800005;114.20431598200008,22.7503960410001;114.20434244300009,22.7508994640001;114.20440632700002,22.751329722000037;114.20448116700004,22.751583807000117;114.20467507100005,22.751714516000078;114.20487140300014,22.751852098000114;114.20506732500013,22.752056028000112;114.2051866540001,22.752289586000103;114.20533769700006,22.75257811300014;114.20555517700012,22.752882746000097;114.20554947000005,22.753008581000103;114.20543033000001,22.753143406000078;114.20521400700011,22.753447406000134;114.20507917700007,22.753726350000107;114.20478171800005,22.753998205000045;114.20449521800003,22.754091594000016;114.2040505490001,22.754253388000052;114.20353684700001,22.754417369000123;114.20329779000008,22.754412438000116;114.20285152000008,22.754434655000125;114.20225659700009,22.754577922000067;114.20207110900003,22.754678323000064;114.20185736200006,22.754964016000116;114.2016712840001,22.75513697300002;114.2016064070001,22.755191083000113;114.20149088700015,22.7552334640001;114.2011850670001,22.755262753000125;114.2008198740001,22.75532627400011;114.20035618600002,22.755373625000118;114.20000099300006,22.755414275000106;114.19993722100003,22.7553638440001;114.19991082700011,22.75524711300011;114.19989475700004,22.755057171000146;114.19996011600011,22.754853632000078;114.20005809400004,22.754556325000124;114.2001361230001,22.754295602000127;114.20014477300003,22.754094264000088;114.20002476000002,22.753970527000092;114.199704806,22.75389453700012;114.19932354500008,22.753768112000046;114.19920532900005,22.753751919000138;114.19915774700007,22.753873117000097;114.1990772200001,22.754138412000145;114.19898166400003,22.754442587000142;114.199005768,22.75452957400006;114.19908154400008,22.754632650000104;114.19925313300013,22.75478392700009;114.19951059900006,22.754999394000066;114.1997310810001,22.75521709600011;114.19982874700008,22.75536596900011;114.1998194140001,22.755677137000134;114.19965402100001,22.756113912000046;114.19952591400016,22.756498128000118;114.19939182900009,22.756655799000043;114.199095553,22.756735442000064;114.19879885500012,22.75688142800007;114.19844483500003,22.757128009000013;114.19816255700005,22.75733351100007;114.19805521600011,22.757550714000075;114.19802723300012,22.757690245000106;114.1980881390001,22.757804746000147;114.19823520300014,22.757937681000016;114.19836051700014,22.758001935000067;114.19844937700009,22.757981477000044;114.19858524400001,22.757933629000092;114.1987824520001,22.757931646000088;114.19890288400006,22.75798674100008;114.19899543000014,22.758167630000116;114.1990213140001,22.758364455000077;114.19910471100007,22.758430933000085;114.19926233600006,22.75845175900011;114.19939527100013,22.7584794200001;114.19953292100001,22.758541410000106;114.19961122100011,22.758633045000096;114.19968485600009,22.75868350200011;114.19979331700006,22.75868365600013;114.19995818900009,22.758727386000146;114.20017426000004,22.758862708000066;114.20034792600006,22.75907804600007;114.20043322400016,22.759236057000095;114.2004924530001,22.759224704000133;114.200598797,22.75916766400013;114.20079619000006,22.75913592800012;114.20104015900012,22.759145443000108;114.20116316200011,22.759184523000073;114.20116200000012,22.75937214600009;114.2012276850001,22.759511817000146;114.20139211500009,22.759626468000107;114.20160498800016,22.75988076400006;114.2016104270001,22.76019653500012;114.201534842,22.760459550000064;114.20142242400004,22.760699634000105;114.20121382000008,22.760948727000084;114.2009561210001,22.76116570300013;114.20071314500007,22.761391862000067;114.20040904700016,22.761537847000056;114.199971742,22.761699648000103;114.19964577400009,22.76179525100011;114.19921390500008,22.76187468900011;114.19889645300009,22.761789546000017;114.19856962900008,22.761626600000056;114.19824364100015,22.761328655000113;114.19786445500006,22.761261724000093;114.1976027280001,22.76133225300009;114.19745909900013,22.761437295000064;114.19725334400005,22.761624606000055;114.19695603900004,22.76186669000009;114.19667840300013,22.76211567200008;114.19640032500001,22.762435583000098;114.19622449700006,22.76256572800014;114.19611845000014,22.762574722000096;114.19584484100005,22.762574302000132;114.19561770400003,22.762631157000044;114.19532603300001,22.762758852000047;114.19494210500011,22.763055705000085;114.19477843500016,22.763211046000066;114.1947731680001,22.76326595100005;114.1948784330001,22.763382810000053;114.19509648400009,22.763595937000076;114.19530898300007,22.763907439000036;114.195351727,22.76416835000012;114.19527836100008,22.764467981000053;114.19520242700003,22.764785909000068;114.19525983900007,22.76506514700006;114.19535871700009,22.765415380000036;114.19546614400014,22.76597384100012;114.19558769500009,22.76624630400005;114.19577259000005,22.76663785300005;114.19595003400002,22.76703854800013;114.19606642500008,22.76734761100002;114.19608524500012,22.76749179900014;114.19601379000005,22.76748710700005;114.19586136800007,22.76742052000006;114.1955884670001,22.767305701000083;114.19543097500002,22.76726198500006;114.19528735400002,22.76736472200008;114.19511614700002,22.767542934000033;114.19500356200007,22.767808183000085;114.1950302460001,22.76787686600011;114.19512107000003,22.767938788000038;114.19530285700006,22.768039739000073;114.19532198700011,22.768078250000144;114.19542457400013,22.768284753000046;114.195438825,22.768371723000115;114.19533994800008,22.768415046000115;114.195073503,22.768448957000118;114.19450609500007,22.76851902000007;114.19390878700005,22.768639369000113;114.19345336800012,22.76854028000008;114.19307690400007,22.768429871000137;114.19275549100007,22.768186832000083;114.19261224800005,22.768038615000137;114.1925473170001,22.767971427000077;114.19242798000005,22.76774014300014;114.1922583220001,22.767671240000112;114.19196991300015,22.767670794000082;114.19171803900008,22.767739041000112;114.19161335600006,22.767921933000082;114.19151999900009,22.768023782000114;114.19147932600009,22.768068154000105;114.191202288,22.768218737000097;114.19083679600016,22.768323420000115;114.19045197200006,22.768366300000054;114.19017847600003,22.768345276000076;114.18990783900011,22.768262475000114;114.18969667700003,22.76812943400006;114.18948507200002,22.76806732300011;114.18908363100002,22.768009494000125;114.18874168100001,22.76798397200008;114.18859025600005,22.767910849000117;114.18836312400003,22.76781373400007;114.18806220000016,22.76765120800013;114.18768981900013,22.767429098000065;114.18730490600001,22.767266744000068;114.1870876270001,22.767225827000118;114.18680327200008,22.767309122000114;114.1864743220001,22.767436155000098;114.18632366100013,22.767422671000077;114.1861435140001,22.76735641200011;114.18586248700001,22.767152487000118;114.18552235600009,22.766886646000103;114.18505095400008,22.76673364900006;114.184557455,22.766534748000083;114.18386631000016,22.76633853700008;114.18343918800014,22.766249788000096;114.18295256000016,22.766232381000094;114.18236682100007,22.766311672000086;114.181943982,22.766438887000078;114.18171384600015,22.766565715000098;114.18153042400007,22.76676597800011;114.18132495100008,22.766908842000106;114.1810948960001,22.76700809400009;114.18073607100007,22.76720640500011;114.18051075900013,22.76736998800004;114.18029990800011,22.76765531400008;114.18012891900003,22.767827974000056;114.18007529000016,22.767854643000106;114.1800175730001,22.767883339000065;114.17981569900007,22.76785082300009;114.17977806200008,22.76784475700009;114.17946963300005,22.767716696000036;114.17904285500009,22.767515354000096;114.17862105800015,22.767297907000085;114.17840281300005,22.7673001630001;114.17833183300002,22.771426605000045;114.17838862800016,22.771420335000073;114.17867533600014,22.771383012000115;114.179003986,22.771359385000068;114.17932502600001,22.771402401000046;114.17964623500006,22.77139258000011;114.17989352900014,22.77131167600004;114.18010895000015,22.77115271100007;114.1802824020001,22.770984634000087;114.18026069900014,22.77081005700012;114.18021400500004,22.77072743800005;114.18004650600005,22.770564636000103;114.17983946600015,22.770401910000146;114.17949207400017,22.77008782200005;114.17925054500006,22.76989760300006;114.17920392100007,22.769794294000064;114.1792904890001,22.769761953000113;114.17939916200015,22.76977093600007;114.17951997900008,22.769848811000116;114.17968999200008,22.770000121000066;114.17989238200005,22.770061757000065;114.18009752800009,22.77003148400013;114.18029812100013,22.769874846000107;114.18040190500005,22.769867742000088;114.18043877800005,22.76992741400005;114.18039648700011,22.77002399400004;114.18031950800003,22.77015281000007;114.18032912000007,22.7702447020001;114.18042266600003,22.77035480400008;114.18053838200001,22.770485544000024;114.18075037400007,22.770641354000134;114.18103894400008,22.77080391800007;114.18146569600009,22.77101904200012;114.1817618230001,22.771131041000046;114.18204063200011,22.77125225700007;114.1823343050001,22.77135736900007;114.182566049,22.7715200370001;114.18269143300006,22.77172426900006;114.182740169,22.771949348000135;114.18278350500009,22.772323776000093;114.18282200200008,22.77266605000011;114.182808927,22.772907321000105;114.18271208100009,22.77307065700009;114.18250374900003,22.77333759900003;114.18219858500004,22.77376096900005;114.18210902500005,22.773967938000084;114.18195509300006,22.774216393000103;114.18172486600008,22.774368497000125;114.18119798700008,22.77457862500009;114.18092313900001,22.774779069000118;114.18072737900007,22.774972458000065;114.18066251700014,22.775181681000106;114.18063504600002,22.77527823300011;114.1806053250001,22.775301264000092;114.18053133500007,22.77525776200008;114.18035868800007,22.77516159900003;114.18015107600002,22.775187288000097;114.17995842300007,22.775169289000132;114.17965905800008,22.775305438000117;114.17946080800004,22.775503427000018;114.17932452600013,22.77563466400011;114.17915175600007,22.7755775630001;114.17902101800013,22.775511194000018;114.17872490400009,22.775387705000128;114.17857165600003,22.775413282000073;114.1784208680001,22.77543885400013;114.17828718300007,22.77552872500013;114.17826115300016,22.775573773000104;114.17825806200005,22.77575430100009;114.17829133700002,22.775786054000065;114.17825590500007,22.77588028300002;114.17814328100008,22.78245742700011;114.1782265110001,22.782470013000108;114.178377006,22.782540947000143;114.17848289800014,22.78265791800007;114.17851673100006,22.78290600300005;114.17856785800012,22.783156340000062;114.1786537260001,22.783356068000046;114.17873976500005,22.783498347000148;114.17887519400006,22.783654322000103;114.1791045060001,22.783807805000095;114.17941037200006,22.783974936000078;114.17972621600012,22.784112168000092;114.18002471500012,22.78426781400009;114.18028638400011,22.78434541200005;114.18031327900007,22.784437267000044;114.18042121400009,22.78469438700006;114.180528751,22.78508477400007;114.18064836200006,22.78556473900005;114.18078343900004,22.78583789000004;114.18093847400007,22.786042073000147;114.18113314800007,22.786216307000075;114.18139208400015,22.78638351400008;114.18156927400003,22.786617528000107;114.18174179900006,22.786759637000046;114.18199843900004,22.786867108000138;114.18251180200008,22.787056789000076;114.18296076800004,22.78729944200009;114.18351608400008,22.787505114000083;114.18398483200014,22.787745430000143;114.1843671260001,22.787974424000055;114.18468502400003,22.788254092000017;114.18492909500009,22.788435117000063;114.18515865600006,22.7885127750001;114.18542810100013,22.788473172000096;114.18575689900007,22.788415066000084;114.18611256700007,22.788460297000142;114.18657202500003,22.788500733000063;114.18720699200003,22.78852012700014;114.18767915100005,22.78844334100009;114.18809215300007,22.788318432000068;114.1884211680001,22.78818909700007;114.18861410800002,22.788117467000063;114.18883048200007,22.78822671100008;114.18900016200007,22.788295624000114;114.18935984900008,22.78833736500013;114.18986974000006,22.788411386000092;114.19025640300009,22.788476056000093;114.19055441000006,22.788526861000065;114.19082299000002,22.788550162000064;114.19122769600011,22.788491304000075;114.19159289800012,22.7884415340001;114.19171096200006,22.788485195000135;114.191914376,22.788679992000084;114.19223160700005,22.789202171000056;114.19248015200009,22.789669330000095;114.19268540900009,22.789962521000064;114.1929482270001,22.790120809000115;114.19353166400003,22.79026127600008;114.19410791500007,22.790369706000092;114.19457865700008,22.790395602000075;114.19514099600008,22.79036214700011;114.19561901400004,22.79040863500012;114.19603278200009,22.7904779160001;114.19630165400014,22.790455437000077;114.19666957100003,22.790366762000076;114.19689635700001,22.790373976000126;114.19705846500005,22.790470321000015;114.19727324900009,22.790820730000092;114.19751978700003,22.7912169410001;114.1977131110001,22.791450611000073;114.19800537100008,22.791631822000056;114.19815741100001,22.79173248200007;114.1981930130001,22.791780223000103;114.19828337800004,22.791809293000114;114.19863379600008,22.791788599000057;114.19901066200009,22.791791202000127;114.19932628700008,22.791781243000088;114.1996191290001,22.791793656000095;114.20001767400004,22.791814910000085;114.20038447600012,22.79191536400009;114.2008595050001,22.79202244700008;114.20133600400004,22.792166034000047;114.20188039200008,22.792349670000135;114.20211922100009,22.79244542300006;114.20224937600005,22.79255049900013;114.20231493500006,22.792766086000142;114.20230458400016,22.793144409000007;114.20224645500008,22.79355830800006;114.20223168300004,22.793918303000112;114.20227040000015,22.79412426200011;114.20233452000008,22.79421212600002;114.20264509900011,22.794386760000094;114.20301272500001,22.79445759100011;114.20347037400006,22.794479956000117;114.20392095100016,22.79467092600001;114.20434387200015,22.79488189500006;114.20484567000011,22.7950920830001;114.20526354900005,22.795307507000103;114.20556372100009,22.795502463000076;114.20574293100009,22.795706528000096;114.20592770100006,22.796068018000113;114.20601839600016,22.7966261200001;114.20611986600017,22.797213988000124;114.20620561100014,22.79760921700006;114.20622613500007,22.79770287500014;114.20623925400002,22.797920922000117;114.20626837800006,22.798117570000073;114.20626631600015,22.79819278100007;114.2062357160001,22.79823095800009;114.205907357,22.798345586000067;114.20568058700013,22.79843933500007;114.20563065100015,22.798463467000147;114.2056969890001,22.798560499000104;114.20579708600008,22.798774457000064;114.20587258800009,22.798896739000014;114.20607675300005,22.79881852200012;114.20636016600014,22.798725847000128;114.2065072480001,22.79893386100005;114.20683203400012,22.799400622000064;114.20702035900001,22.79981236000009;114.20723346600005,22.800128787000062;114.20753177200004,22.800663462000074;114.2077750840001,22.801046588000133;114.2078908740001,22.801317850000117;114.20809354600016,22.8017458140001;114.20813525900007,22.801842373000113;114.20812877700013,22.801899258000105;114.20805858300008,22.801943530000074;114.20768760300007,22.8020847170001;114.20736691000008,22.8020991570001;114.20703847300007,22.80203592500004;114.20677993200002,22.801939811000096;114.20661685900012,22.801866029000053;114.20651202800008,22.801825276000045;114.20649398500012,22.801854579000064;114.20648454000002,22.801929649000044;114.20650690700006,22.802283509000063;114.20655214300012,22.802521510000105;114.20670196600014,22.80280937500001;114.20698709700008,22.803195583000075;114.20713743900001,22.80337401000014;114.20734533900014,22.803430395000078;114.20746678400008,22.803494268000094;114.20751619800001,22.803579571000114;114.20745663600007,22.80368561500009;114.20739946900005,22.803793976000122;114.20741321600008,22.803921934000073;114.20748731900005,22.804005423000007;114.20776361500009,22.804263765000144;114.20787559500002,22.804384844000083;114.207971832,22.80448890200006;114.20807409000008,22.804714300000086;114.20810474100006,22.804945184000076;114.208106219,22.80516183600011;114.20815281,22.805440901000082;114.20825073100008,22.805554493000045;114.20834509200012,22.8056178410001;114.20847954300012,22.805656872000043;114.20860561400008,22.80573223500005;114.20868068800007,22.805870466000044;114.20872721400008,22.806151816000067;114.2088289570001,22.806666797000076;114.20897330900004,22.806975082000093;114.20917323900005,22.80732318000011;114.20930044700003,22.807537656000108;114.20932265400012,22.807807135000104;114.20936138600013,22.808013094000046;114.209478053,22.808252448000104;114.20988842600008,22.80883483800008;114.210250105,22.809395786000067;114.21037993700014,22.809694671000074;114.21043828900008,22.809994492000044;114.21051514500004,22.810157840000045;114.21076912500013,22.810331380000093;114.21117728300015,22.810724470000082;114.21154698000015,22.811082620000064;114.21213167700006,22.811417485000106;114.21250274100015,22.811725489000082;114.21295919700003,22.812064760000112;114.21310762900009,22.812133696000046;114.21336340100004,22.812061007000125;114.21365619300008,22.811986735000033;114.21414429800006,22.811797591000072;114.21453968100002,22.811665973000032;114.21468709300007,22.811591242000105;114.21503839900004,22.81135846100011;114.21533643700008,22.811181681000107;114.215620672,22.811113439000053;114.21564309900009,22.81121443300009;114.21567664500009,22.811371510000072;114.21589087100006,22.8114521010001;114.21626065900006,22.81171675900009;114.2166526850001,22.811979550000103;114.21705007500015,22.812135275000117;114.21745000500005,22.81228876600011;114.2178467380001,22.812572737000096;114.21799201100015,22.81270242500011;114.21811763000005,22.812831830000107;114.21845148200009,22.81314651200009;114.218785744,22.813547594000084;114.21898449100001,22.813850056000007;114.21914884400007,22.814329720000046;114.2193155430001,22.814813993000087;114.21942037500003,22.81521729500011;114.21947728000009,22.815480594000093;114.21972855400008,22.81575440600011;114.2200616080001,22.816011509000134;114.22050670700003,22.816316348000072;114.22077169000016,22.81644903700004;114.22103207200013,22.816479032000103;114.22146876300013,22.81636870200009;114.22174708500012,22.81628274500011;";
         String[] lonlatArray=lonlatStr.split(";");
         StringBuffer gpsStr=new StringBuffer();
//         StringBuffer bdStr=new StringBuffer();
         for(int i=0;i<lonlatArray.length;i++){
        	String  pt=lonlatArray[i];
        	Point p0=new Point(Double.valueOf(pt.split(",")[0]),Double.valueOf(pt.split(",")[1]));
        	Point gpsPoint = wgs_gcj_encrypts(p0.getLat(),p0.getLng());
        	Point bdPoint =bd_google_encrypt(p0.getLat(),p0.getLng());
        	
        	gpsStr.append(df.format(gpsPoint.getLng())+","+df.format(gpsPoint.getLat())+";");
//        	bdStr.append(df.format(bdPoint.getLng())+","+df.format(bdPoint.getLat())+";");
         }
         System.out.println("====GPS加偏======");
         System.out.println(gpsStr.toString());
//         System.out.println("===百度转google==");
//         System.out.println(bdStr.toString());
    	
    	
    	/*Point p0=new Point(114.244025,22.727693);
    	Point p = wgs_gcj_encrypts(p0.getLat(),p0.getLng());
    	Point p2 =bd_google_encrypt(p0.getLat(),p0.getLng());
    	Point p3= google_bd_encrypt(p0.getLat(),p0.getLng());
    	Point p4= google_bd_encrypt(p.getLat(),p.getLng());
    	System.out.println("====原始经纬度====="+"经度/维度:"+p0.getLng()+","+p0.getLat());
    	System.out.println("=====================================");
    	System.out.println("====GPS加偏======"+"经度/维度:"+df.format(p.getLng())+","+df.format(p.getLat()));
    	System.out.println("===百度转google==="+"经度/维度:"+df.format(p2.getLng())+","+df.format(p2.getLat()));
    	System.out.println("=====================================");
    	System.out.println("===google转百度==="+"经度/维度:"+df.format(p2.getLng())+","+df.format(p2.getLat()));
    	System.out.println("===GPS加偏后转百度=="+"经度/维度:"+df.format(p4.getLng())+","+df.format(p4.getLat()));*/
    }
}